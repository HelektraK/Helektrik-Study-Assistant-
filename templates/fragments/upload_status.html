<!-- Upload Status Fragment -->
<div id="materials-panel">
    <div data-session-id="{{ session_id }}"></div>
    
    {% if files %}
        <h4>Uploaded Materials ({{ files|length }})</h4>
        <ul class="file-list">
            {% for f in files %}
            <li class="file-item">
                <div class="file-info">
                    <strong>{{ f.name }}</strong>
                    <span class="file-type">({{ f.type }})</span>
                </div>
                <!-- Delete Button -->
                <button 
                    class="delete-btn"
                    hx-delete="/session/{{ session_id }}/file/{{ loop.index0 }}"
                    hx-target="#materials-panel"
                    hx-swap="outerHTML"
                    hx-confirm="Delete '{{ f.name }}'?"
                    title="Delete file">
                    ğŸ—‘ï¸
                </button>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <em>No materials uploaded yet.</em>
    {% endif %}
</div>